<html>
<head>
<title>NETCODE</title>

<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

<script src="jquery-3.4.1.min.js"></script>

<style>
.con .homecontent{
	float:left;
     background:#dfe5ed;
     margin:4;
}
element.style {
}
.ddsmoothmenu {
    font-size: 13px;
    background-color: #787c7d;
    width: 100%;
}

div {
    display: block;
}
html {
    color: -internal-root-color;
}
.ddsmoothmenu ul li a {
    display: block;
    background-color: #787c7d;
    color: #fff;
    font-size: 15px;
    padding: .9em;
    text-decoration: none;
}
a {
    color: green;
    text-decoration: none;
}
.ddsmoothmenu ul li a:hover{
	display: block;
	background-color:#4d5354;
}

.ddsmoothmenu ul {
    z-index: 100;
    margin: 0;
    padding: 0;
    list-style-type: none;
}
ul, ul.points {
    list-style: circle;
    line-height: 150%;
}
ul {
    list-style-type: disc;
}
.ddsmoothmenu {
    font-size: 13px;
    background-color: #787c7d;
    width: 100%;
}

  #link {
        height: 46px;
        font-weight: 700;
        overflow: hidden
    }

element.style {
    clear: both;
}
div {
    display: block;
}
div ul li.cen
{
	float:left;
}
html {
    color: -internal-root-color;
}
.homecontent {
    
    font-size: 14px;
    padding: 15px;
    width:  300px;
    height: 174px;
    border-radius: 2px 25px 2px 25px;
    -webkit-box-shadow: -2px 10px 22px -16px rgba(0,0,0,.75);
    -moz-box-shadow: -2px 10px 22px -16px rgba(0,0,0,.75);
    box-shadow: 7px 10px 22px -6px rgba(0,0,0,.75);
}

#innerfooter div, #interview h2, #uh3, .homecontent, div#q h2, div.q h2 {
    text-align: center;
}
user agent stylesheet
.homecontent div {
    display: block;
}
.homecontent div a {
    color: green;
    text-decoration: none;
}
user agent stylesheet
a:-webkit-any-link {
    color: -webkit-link;
    cursor: pointer;
}
#city td {
    color: #000;
    line-height: 23px;
    margin-left: 20px;
}
#city td, #city ul {
    font: 13px verdana,helvetica,arial,sans-serif;
}
user agent stylesheet
table {
    border-collapse: separate;
    border-spacing: 2px;
}
/*button next & previes */
#bottomnextup a {
    font: 13px/1.5 times new roman;
    background-color: #787c7d;
    float: right;
    margin-top:5px;
    padding: 6px 25px;
    color: #fff;
    font-weight: 700;
    text-decoration: none;
    margin-left: 7px;
}
#bottomnextup a:hover{
    display: block;
    background-color:#4d5354;   
}
.Content_Only
{
    background-color:#e5ecee;
    margin-left: inherit;
    margin-right: auto;
}

@media screen and (min-width: 700px){
.Content_Only {
    margin-left:200px;
    margin-right: 100px;
}

.h3 {
    font-size: 21px;
}
.h3, .h4 {
    font-family: erdana,helvetica,arial,sans-serif;
    color: #610B4B;
}
.h1, .h3 {
    font-weight: 400;
}
h1, h2, h3 {
    line-height: 1.3em;
}

h3 {
    display: block;
    font-size: 1.17em;
    margin-block-start: 1em;
    margin-block-end: 1em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    font-weight: bold;
}
</style>

</head>
<body>

<div id="link" style="clear:both"> 
	<div class="ddsmoothmenu"><ul>
        <li class="cen"><a href="#">NETCODE</a></li>
		<li class="cen"><a href="https://www.javatpoint.com">DS</a></li>
		<li class="cen"><a href="python-tutorial">DAA</a></li>
		<li class="cen"><a href="java-tutorial">OS</a></li>
		<li class="cen"><a href="php-tutorial">C.Network</a></li>
		<li class="cen"><a href="javascript-tutorial">Compiler D:</a></li>
        <li class="cen"><a href="javascript-tutorial">COA</a></li>
        <li class="cen"><a href="javascript-tutorial">D.Math</a></li>
        <li class="cen"><a href="javascript-tutorial">E.Hacking</a></li>
        <li class="cen"><a href="javascript-tutorial">C.Graphics</a></li>
        <li class="cen"><a href="javascript-tutorial">Software E.</a></li>
        <li class="cen"><a href="javascript-tutorial">Web Tech</a></li>
        <li class="cen"><a href="javascript-tutorial">Cyber Sec</a></li>
        <li class="cen"><a href="javascript-tutorial">Automata </a></li>
        <li class="cen"><a href="javascript-tutorial">C</a></li>
        <li class="cen"><a href="javascript-tutorial">C++</a></li>
        <li class="cen"><a href="javascript-tutorial">Java</a></li>
        <li class="cen"><a href="javascript-tutorial">.Net</a></li>
        <li class="cen"><a href="javascript-tutorial">Python</a></li>
        <li class="cen"><a href="javascript-tutorial">Programs</a></li>
        <li class="cen"><a href="javascript-tutorial">Control S.</a></li>

	</ul><br style="clear: left"></div> 
</div>
<div class="Content_Only">
    <table>
<tr><td>

<div id="bottomnextup">
<a class="next" href="dbms-er-model-concept">next &rarr;</a>
<a class="next" href="dbms-data-independence">&larr; prev</a>
</div>



<h1 class="h1">Deadlock in DBMS</h1>
<p>A deadlock is a condition where two or more transactions are waiting indefinitely for one another to give up locks. Deadlock is said to be one of the most feared complications in DBMS as no task ever gets finished and is in waiting state forever.</p>
<p><strong>For example:</strong> In the student table, transaction T1 holds a lock on some rows and needs to update some rows in the grade table. Simultaneously, transaction T2 holds locks on some rows in the grade table and needs to update the rows in the Student table held by Transaction T1.</p>
<p>Now, the main problem arises. Now Transaction T1 is waiting for T2 to release its lock and similarly, transaction T2 is waiting for T1 to release its lock. All activities come to a halt state and remain at a standstill. It will remain in a standstill until the DBMS detects the deadlock and aborts one of the transactions.</p>
<br>
<img src="https://static.javatpoint.com/dbms/images/deadlock-in-dbms.png" alt="Deadlock in DBMS"/>
<br>
<h2 class="h2">Deadlock Avoidance</h2>
<ul class="points">
<li>When a database is stuck in a deadlock state, then it is better to avoid the database rather than aborting or restating the database. This is a waste of time and resource.</li>
<li>Deadlock avoidance mechanism is used to detect any deadlock situation in advance. A method like "wait for graph" is used for detecting the deadlock situation but this method is suitable only for the smaller database. For the larger database, deadlock prevention method can be used.</li>
</ul>
<h2 class="h2">Deadlock Detection</h2>
<p>In a database, when a transaction waits indefinitely to obtain a lock, then the DBMS should detect whether the transaction is involved in a deadlock or not. The lock manager maintains a Wait for the graph to detect the deadlock cycle in the database.</p>
<h3 class="h3">Wait for Graph</h3>
<ul class="points">
<li>This is the suitable method for deadlock detection. In this method, a graph is created based on the transaction and their lock. If the created graph has a cycle or closed loop, then there is a deadlock.</li>
<li>The wait for the graph is maintained by the system for every transaction which is waiting for some data held by the others. The system keeps checking the graph if there is any cycle in the graph.</li>
</ul>
<p>The wait for a graph for the above scenario is shown below:</p>
<br>
<img src="https://static.javatpoint.com/dbms/images/deadlock-in-dbms-wait-for-graph.png" alt="Deadlock in DBMS"/>
<br>
<h2 class="h2">Deadlock Prevention</h2>
<ul class="points">
<li>Deadlock prevention method is suitable for a large database. If the resources are allocated in such a way that deadlock never occurs, then the deadlock can be prevented.</li>
<li>The Database management system analyzes the operations of the transaction whether they can create a deadlock situation or not. If they do, then the DBMS never allowed that transaction to be executed. </li>
</ul>
<h3 class="h3">Wait-Die scheme</h3>
<p>In this scheme, if a transaction requests for a resource which is already held with a conflicting lock by another transaction then the DBMS simply checks the timestamp of both transactions. It allows the older transaction to wait until the resource is available for execution.</p>
<p>Let's assume there are two transactions Ti and Tj and let TS(T) is a timestamp of any transaction T. If T2 holds a lock by some other transaction and T1 is requesting for resources held by T2 then the following actions are performed by DBMS:</p> 
<ol class="points">
<li>Check if TS(Ti) < TS(Tj) -  If Ti is the older transaction and Tj has held some resource, then Ti is allowed to wait until the data-item is available for execution. That means if the older transaction is waiting for a resource which is locked by the younger transaction, then the older transaction is allowed to wait for resource until it is available.  </li>
<li>Check if TS(T<sub>i</sub>) < TS(Tj) - If Ti is older transaction and has held some resource and if Tj is waiting for it, then Tj is killed and restarted later with the random delay but with the same timestamp. </li>
</ol>
<h3 class="h3">Wound wait scheme</h3>
<ul class="points">
<li>In wound wait scheme, if the older transaction requests for a resource which is held by the younger transaction, then older transaction forces younger one to kill the transaction and release the resource. After the minute delay, the younger transaction is restarted but with the same timestamp. </li> 
<li>If the older transaction has held a resource which is requested by the Younger transaction, then the younger transaction is asked to wait until older releases it.</li>
</ol>

<br>
<div class="nexttopicdiv">
<span class="nexttopictext">Next Topic</span><span class="nexttopiclink"><a href="dbms-concurrency-control">DBMS Concurrency Control</a></span>
</div>
<!-- link -->
<br/><br/>



<div id="bottomnextup">
<a class="next" href="dbms-er-model-concept">next &rarr;</a>
<a class="next" href="dbms-data-independence">&larr; prev</a>
</div>


<br/><br/>
</td></tr>
</table>
    </div>

</body>

</html> 